<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Produced Under Scarcity &middot; 
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  
  <body>

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p></p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>

    

    
    
      
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/about/">About</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/archive/">Archive</a>
        
      
    
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    

    <a class="sidebar-nav-item" href="https://github.com/akhilrao/archive/v0.0.1.zip">Download</a>
    <a class="sidebar-nav-item" href="https://github.com/akhilrao">GitHub project</a>
    <span class="sidebar-nav-item">Currently v0.0.1</span>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2016. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">Produced Under Scarcity</a>
            <small></small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="//2016/06/30/i-love-npp/">
        I love Notepad++
      </a>
    </h1>

    <span class="post-date">30 Jun 2016</span>

    <p>A while back Github Pages upgraded to Jekyll 3.0. As a result, only <code class="highlighter-rouge">kramdown</code> is supported for Jekyll sites hosted on Github Pages.</p>

<p>Seeing as I didn’t pay close attention to what was going on, I spent a while very confused and frustrated trying to figure out why all my MathJax wasn’t displaying properly. Once I figured out what the upgrade was doing, I spent some more time confused and frustrated trying to fix the problem.</p>

<p><a href="http://tobanwiebe.com/blog/2016/02/mathjax-kramdown">This blog post by Toban Wiebe</a> explained what was going on in words I can grok. Unfortunately, I am one of those people with a lot of old posts to convert.</p>

<p>I’ve been reading through “<a href="https://automatetheboringstuff.com/">Automate the Boring Stuff with Python</a>” this summer, so I figured this was a perfect project - write a conversion script. I started down that path, even got as far as figuring out the appropriate regular expressions and writing a first draft of a script.</p>

<p>Then I remembered that <a href="https://notepad-plus-plus.org/">Notepad++</a> (my preferred text editor) has a “Replace All in All Opened Documents” function. Like any good myopic optimizer, I stopped writing that script immediately and pulled up Notepad++.</p>

<p>Problem solved. Hooray for Notepad++!</p>

<p>(It seems like MathJax doesn’t always load with the page anymore, but a couple refreshes solves the problem. Not sure what’s up with that.)</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="//eda/2016/06/29/au-water-trading-1-look-at-data/">
        A look at some Australian water trading data
      </a>
    </h1>

    <span class="post-date">29 Jun 2016</span>

    <p><em>This is my first attempt at using Rmarkdown, knitr, and ggplot2. The scripts to reproduce and extend everything discussed here are <a href="https://github.com/akhilrao/akhilrao.github.io/tree/master/public/code/au-water-trading">here</a>. I converted the knitted Rmarkdown file to markdown with the help of this <a href="http://brooksandrew.github.io/simpleblog/articles/blogging-with-r-markdown-and-jekyll-using-knitr/">post</a> by Andrew Brooks.</em></p>

<p>I’m currently working on two projects: one is about orbital debris and satellites launches (what my previous post was about), and the other is about water trading in Australian water markets (that’s what this post is about). It’s too early to talk much about the substantive content of either project; in this post I’m going to describe some interesting (to me!) things in some of the water data I have.</p>

<h2 id="why-australian-water-markets">Why Australian water markets?</h2>

<p>I’ve liked the idea of water markets since I learned about <a href="http://www.latimes.com/local/california/la-me-water-rights-legal-20150629-story.html">California’s messed up water rights</a> as a <a href="http://www.corola.org/">Coro Fellow</a> (FPPA LA ‘12, fun times). Australia actually has pretty well-defined water markets with some trading data, so I started there.</p>

<p>Plus, water markets lend themselves to some great awful puns about market liquidity and trade volumes.</p>

<h2 id="a-little-bit-about-the-markets">A little bit about the markets</h2>

<p>Australian water trading can broadly be classified into two categories: allocation trades and entitlement trades. Allocation trades are short-term transfers of an amount of water, lasting for the remainder of the water year (water years are July 1st xxx(y)-June 30th xxx(y+1)). Entitlement trades are transfers of the rights to water from a given source. Entitlement transfers can further be divided into permanent/ongoing and leases.</p>

<p>I say “markets” instead of “market” because each state has some different laws relating to water trading within its borders. But the broad allocations/entitlements distinction still stands. The <a href="http://www.nationalwatermarket.gov.au/about/products.html">implementation details vary</a>. (I’m saying “entitlement” instead of “access entitlement” for brevity.)</p>

<p>A given water resource will be divided into consumptive and non-consumptive use. Consumptive use is for private purposes like irrigation, urban use, etc., while non-consumptive use is for things like generating hydroelectricity or to guarantee the stability of the environment in that region. Tradeable water rights are defined as shares of a consumptive pool from a given water source. Water resource plans define the amount of water available to a consumptive pool. The national water market’s <a href="http://www.nationalwatermarket.gov.au/about/resources.html">resources page</a> has more information on how this works.</p>

<p>There’s a lot of state-level heterogeneity in how this all looks in practice, but my understanding is that these broad statements are true across the country.</p>

<h2 id="what-are-the-data">What are the data?</h2>

<p>The data used for this post are publicly available at the Bureau of Meteorology’s <a href="http://www.nationalwatermarket.gov.au/water-market-reports/download-data.html">Water Market Information page</a>, specifically the “trade history” dataset.</p>

<p>The dataset describes all of the water transactions that occurred between 2009-2014. A lot of the trades have a zero recorded price. A spoke to one of the people at the Bureau of Meteorology about this some time back, and he told me that only the quantity traded is mandatory, not the price. So a lot of prices are zero. One of the things I want to check is how the distributions of zero price trades compares to the distribution of positive price trades, to see if there’s anything interesting going on there. I’m not going to look into that too much here.</p>

<p>One of my goals for the future is to learn to use mapping tools to get data out of maps like <a href="http://www.bom.gov.au/jsp/awap/rain/index.jsp">these</a>. Rainfall information would be really useful for this project. Along the way, it would help to find a shapefile for a map of Australia with the Murray-Darling Basin and the different water systems marked out.</p>

<h2 id="doing-stuff-with-the-data">Doing stuff with the data</h2>

<p>I’m going to skip all the data cleaning and prep work. It’s in the script <code class="highlighter-rouge">prep-trading-data.r</code>. I’m calling it “cleaning and prep work” but I guess it’s called “wrangling” now? What happend to “munging”, did it go out of style? <a href="https://en.wikipedia.org/wiki/Data_wrangling">Life’s mysteries</a>.</p>

<p><code class="highlighter-rouge">prep-trading-data.r</code> outputs two csv files, one each for allocation and entitlement trades. I used <code class="highlighter-rouge">rm(list=ls())</code> liberally throughout the <code class="highlighter-rouge">prep-trading-data.r</code>, so consider yourself warned. Don’t use the script if you have other things you want to keep in your workspace.</p>

<p><code class="highlighter-rouge">prep-trading-data.r</code> does a bunch of useful things for me, like create an indicator variable for whether a trade was in the Murray-Darling Basin or not, a categorical variable describing the origin and destination states of a trade, and get rid of 14 observations with years like 2103 (at which point we’ll have no water, so they’re clearly wrong). The most tedious part of writing it was going through the <a href="http://www.agriculture.gov.au/abares/publications/display?url=http://143.188.17.20/anrdl/DAFFService/display.php?fid=pb_awmr_d9aawr20151211.xml">Australian Water Markets Report 2013-14</a> to figure out whether a given water system was in the Murray-Darling Basin or not.</p>

<p><code class="highlighter-rouge">ents</code> and <code class="highlighter-rouge">alls</code> are from the csv files of prepped daily water trading data. From there I used <code class="highlighter-rouge">water-eda.r</code> to do a little more processing and make some tables and pictures. The data processing in <code class="highlighter-rouge">water-eda.r</code> is below:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c1">## load libraries - make sure these are installed! stuff to read excel files, reshape data, plot pretty pictures, estimate consistent standard errors, and probably other useful things.  Probably don't need all of these.
</span><span class="n">library</span><span class="p">(</span><span class="n">readxl</span><span class="p">)</span>
<span class="n">library</span><span class="p">(</span><span class="n">plyr</span><span class="p">)</span>
<span class="n">library</span><span class="p">(</span><span class="n">reshape2</span><span class="p">)</span>

<span class="c1">## run prep script
</span><span class="n">rm</span><span class="p">(</span><span class="n">list</span><span class="o">=</span><span class="n">ls</span><span class="p">())</span> <span class="c1"># I use these liberally. Caveat emptor.
</span><span class="n">source</span><span class="p">(</span><span class="s2">"prep-trading-data.r"</span><span class="p">)</span> <span class="c1"># does some stuff to make the data nicer to use
</span>
<span class="c1">## monthly trading
</span><span class="n">ents_m</span> <span class="o">&lt;-</span> <span class="n">ddply</span><span class="p">(</span><span class="n">ents</span><span class="p">,</span><span class="err">.</span><span class="p">(</span><span class="n">year</span><span class="p">,</span><span class="n">MonthOfTrade</span><span class="p">,</span><span class="n">mdb</span><span class="p">,</span><span class="n">from_state</span><span class="p">,</span><span class="n">interstate</span><span class="p">),</span><span class="n">summarize</span><span class="p">,</span><span class="n">v_ents</span><span class="o">=</span><span class="n">sum</span><span class="p">(</span><span class="n">quantityTraded</span><span class="p">),</span><span class="n">price_ents</span><span class="o">=</span><span class="n">mean</span><span class="p">(</span><span class="n">PricePerML</span><span class="p">[</span><span class="n">PricePerML</span><span class="o">!=</span><span class="m">0</span><span class="p">]),</span><span class="n">n_ents</span><span class="o">=</span><span class="n">length</span><span class="p">(</span><span class="n">quantityTraded</span><span class="p">),</span><span class="n">np_ents</span><span class="o">=</span><span class="n">length</span><span class="p">(</span><span class="n">PricePerML</span><span class="p">[</span><span class="n">PricePerML</span><span class="o">!=</span><span class="m">0</span><span class="p">]))</span>
<span class="n">alls_m</span> <span class="o">&lt;-</span> <span class="n">ddply</span><span class="p">(</span><span class="n">alls</span><span class="p">,</span><span class="err">.</span><span class="p">(</span><span class="n">year</span><span class="p">,</span><span class="n">MonthOfTrade</span><span class="p">,</span><span class="n">mdb</span><span class="p">,</span><span class="n">from_state</span><span class="p">,</span><span class="n">interstate</span><span class="p">),</span><span class="n">summarize</span><span class="p">,</span><span class="n">v_alls</span><span class="o">=</span><span class="n">sum</span><span class="p">(</span><span class="n">quantityTraded</span><span class="p">),</span><span class="n">price_alls</span><span class="o">=</span><span class="n">mean</span><span class="p">(</span><span class="n">PricePerML</span><span class="p">[</span><span class="n">PricePerML</span><span class="o">!=</span><span class="m">0</span><span class="p">]),</span><span class="n">n_alls</span><span class="o">=</span><span class="n">length</span><span class="p">(</span><span class="n">quantityTraded</span><span class="p">),</span><span class="n">np_alls</span><span class="o">=</span><span class="n">length</span><span class="p">(</span><span class="n">PricePerML</span><span class="p">[</span><span class="n">PricePerML</span><span class="o">!=</span><span class="m">0</span><span class="p">]))</span>

<span class="c1">### merge alls and ents
</span><span class="n">trades_m</span> <span class="o">&lt;-</span> <span class="n">join</span><span class="p">(</span><span class="n">alls_m</span><span class="p">,</span><span class="n">ents_m</span><span class="p">,</span><span class="n">by</span><span class="o">=</span><span class="n">c</span><span class="p">(</span><span class="s2">"MonthOfTrade"</span><span class="p">,</span><span class="s2">"mdb"</span><span class="p">,</span><span class="s2">"from_state"</span><span class="p">,</span><span class="s2">"interstate"</span><span class="p">),</span><span class="n">type</span><span class="o">=</span><span class="s2">"full"</span><span class="p">,</span><span class="n">match</span><span class="o">=</span><span class="s2">"first"</span><span class="p">)</span>
<span class="n">trades_m</span><span class="p">[(</span><span class="n">is.na</span><span class="p">(</span><span class="n">trades_m</span><span class="p">))]</span> <span class="o">&lt;-</span> <span class="m">0</span> <span class="c1"># replace NaN and NA with 0
</span>
<span class="c1">### melt trades_m
</span><span class="n">trades_m_melted</span> <span class="o">&lt;-</span> <span class="n">melt</span><span class="p">(</span><span class="n">trades_m</span><span class="p">[,</span><span class="n">c</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">2</span><span class="p">,</span><span class="m">3</span><span class="p">,</span><span class="m">4</span><span class="p">,</span><span class="m">5</span><span class="p">,</span><span class="m">6</span><span class="p">,</span><span class="m">7</span><span class="p">,</span><span class="m">8</span><span class="p">,</span><span class="m">9</span><span class="p">,</span><span class="m">10</span><span class="p">,</span><span class="m">11</span><span class="p">,</span><span class="m">12</span><span class="p">,</span><span class="m">13</span><span class="p">)],</span><span class="n">id</span><span class="o">=</span><span class="n">c</span><span class="p">(</span><span class="s2">"year"</span><span class="p">,</span><span class="s2">"MonthOfTrade"</span><span class="p">,</span><span class="s2">"mdb"</span><span class="p">,</span><span class="s2">"from_state"</span><span class="p">,</span><span class="s2">"interstate"</span><span class="p">))</span> <span class="c1"># useful for plots later
</span>
<span class="c1">## yearly trading
</span><span class="n">ents_y</span> <span class="o">&lt;-</span> <span class="n">ddply</span><span class="p">(</span><span class="n">ents</span><span class="p">,</span><span class="err">.</span><span class="p">(</span><span class="n">year</span><span class="p">,</span><span class="n">mdb</span><span class="p">,</span><span class="n">from_state</span><span class="p">,</span><span class="n">interstate</span><span class="p">),</span><span class="n">summarize</span><span class="p">,</span><span class="n">v_ents</span><span class="o">=</span><span class="n">sum</span><span class="p">(</span><span class="n">quantityTraded</span><span class="p">),</span><span class="n">price_ents</span><span class="o">=</span><span class="n">mean</span><span class="p">(</span><span class="n">PricePerML</span><span class="p">[</span><span class="n">PricePerML</span><span class="o">!=</span><span class="m">0</span><span class="p">]),</span><span class="n">n_ents</span><span class="o">=</span><span class="n">length</span><span class="p">(</span><span class="n">quantityTraded</span><span class="p">),</span><span class="n">np_ents</span><span class="o">=</span><span class="n">length</span><span class="p">(</span><span class="n">PricePerML</span><span class="p">[</span><span class="n">PricePerML</span><span class="o">!=</span><span class="m">0</span><span class="p">]))</span>
<span class="n">alls_y</span> <span class="o">&lt;-</span> <span class="n">ddply</span><span class="p">(</span><span class="n">alls</span><span class="p">,</span><span class="err">.</span><span class="p">(</span><span class="n">year</span><span class="p">,</span><span class="n">mdb</span><span class="p">,</span><span class="n">from_state</span><span class="p">,</span><span class="n">interstate</span><span class="p">),</span><span class="n">summarize</span><span class="p">,</span><span class="n">v_alls</span><span class="o">=</span><span class="n">sum</span><span class="p">(</span><span class="n">quantityTraded</span><span class="p">),</span><span class="n">price_alls</span><span class="o">=</span><span class="n">mean</span><span class="p">(</span><span class="n">PricePerML</span><span class="p">[</span><span class="n">PricePerML</span><span class="o">!=</span><span class="m">0</span><span class="p">]),</span><span class="n">n_alls</span><span class="o">=</span><span class="n">length</span><span class="p">(</span><span class="n">quantityTraded</span><span class="p">),</span><span class="n">np_alls</span><span class="o">=</span><span class="n">length</span><span class="p">(</span><span class="n">PricePerML</span><span class="p">[</span><span class="n">PricePerML</span><span class="o">!=</span><span class="m">0</span><span class="p">]))</span>

<span class="c1">### merge alls and ents
</span><span class="n">trades_y</span> <span class="o">&lt;-</span> <span class="n">join</span><span class="p">(</span><span class="n">alls_y</span><span class="p">,</span><span class="n">ents_y</span><span class="p">,</span><span class="n">by</span><span class="o">=</span><span class="n">c</span><span class="p">(</span><span class="s2">"year"</span><span class="p">,</span><span class="s2">"mdb"</span><span class="p">,</span><span class="s2">"from_state"</span><span class="p">,</span><span class="s2">"interstate"</span><span class="p">),</span><span class="n">type</span><span class="o">=</span><span class="s2">"full"</span><span class="p">,</span><span class="n">match</span><span class="o">=</span><span class="s2">"first"</span><span class="p">)</span>
<span class="n">trades_y</span><span class="p">[(</span><span class="n">is.na</span><span class="p">(</span><span class="n">trades_y</span><span class="p">))]</span> <span class="o">&lt;-</span> <span class="m">0</span> <span class="c1"># replace NaN and NA with 0
</span>
<span class="c1">### yearly summary
</span><span class="n">yearly_summary</span> <span class="o">&lt;-</span> <span class="n">ddply</span><span class="p">(</span><span class="n">trades_y</span><span class="p">,</span><span class="err">.</span><span class="p">(</span><span class="n">year</span><span class="p">),</span><span class="n">summarize</span><span class="p">,</span><span class="n">v_alls</span><span class="o">=</span><span class="n">sum</span><span class="p">(</span><span class="n">v_alls</span><span class="p">),</span><span class="n">v_ents</span><span class="o">=</span><span class="n">sum</span><span class="p">(</span><span class="n">v_ents</span><span class="p">),</span><span class="n">n_alls</span><span class="o">=</span><span class="n">sum</span><span class="p">(</span><span class="n">n_alls</span><span class="p">),</span><span class="n">n_ents</span><span class="o">=</span><span class="n">sum</span><span class="p">(</span><span class="n">n_ents</span><span class="p">))</span> <span class="c1"># for a summary table
</span></code></pre>
</div>

<p>Just some <code class="highlighter-rouge">ddply()</code>, <code class="highlighter-rouge">join()</code>, and <code class="highlighter-rouge">melt()</code> to make pictures and tables easier later. <code class="highlighter-rouge">n_ents</code> and <code class="highlighter-rouge">n_alls</code> are the number of entitlement and allocation trades respectively, while <code class="highlighter-rouge">v_ents</code> and <code class="highlighter-rouge">v_alls</code> are the total monthly volume of entitlements and allocations traded.</p>

<p>(I’m still a noob at this whole “generating pretty things in markdown” business, so I used this handy online <a href="http://www.tablesgenerator.com/markdown_tables#">markdown table generator</a> to make this table.)</p>

<table>
  <thead>
    <tr>
      <th>year</th>
      <th>Allocation trades (ML)</th>
      <th>Entitlement trades (ML)</th>
      <th>Number of allocation trades</th>
      <th>Number of entitlement trades</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>2004</td>
      <td>1898</td>
      <td>0</td>
      <td>4</td>
      <td>0</td>
    </tr>
    <tr>
      <td>2005</td>
      <td>980</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <td>2006</td>
      <td>1256</td>
      <td>0</td>
      <td>38</td>
      <td>0</td>
    </tr>
    <tr>
      <td>2007</td>
      <td>4279</td>
      <td>0</td>
      <td>76</td>
      <td>0</td>
    </tr>
    <tr>
      <td>2008</td>
      <td>1090</td>
      <td>0</td>
      <td>17</td>
      <td>0</td>
    </tr>
    <tr>
      <td>2009</td>
      <td>873878.133</td>
      <td>449766.741</td>
      <td>8119</td>
      <td>2895</td>
    </tr>
    <tr>
      <td>2010</td>
      <td>3373516.237</td>
      <td>1385914.681</td>
      <td>18434</td>
      <td>6666</td>
    </tr>
    <tr>
      <td>2011</td>
      <td>5527076.803</td>
      <td>2261956.205</td>
      <td>10070</td>
      <td>7509</td>
    </tr>
    <tr>
      <td>2012</td>
      <td>5565003.714</td>
      <td>1301803.735</td>
      <td>15099</td>
      <td>7804</td>
    </tr>
    <tr>
      <td>2013</td>
      <td>7288640.034</td>
      <td>1915709.35</td>
      <td>30058</td>
      <td>7636</td>
    </tr>
    <tr>
      <td>2014</td>
      <td>2975364.894</td>
      <td>827862.547</td>
      <td>15160</td>
      <td>2316</td>
    </tr>
  </tbody>
</table>

<p>Note that I’m aggregating these by calendar year, not water year. “ML” stands for megaliter (1 million liters). The 2014 data only goes till September, so the apparent dropoff in trading might be mostly truncated data.</p>

<h3 id="pictures">Pictures!</h3>

<p>This is the real reason I wrote this post: pictures!</p>

<p>To get these to load in knitr code chunks, the script <code class="highlighter-rouge">water-eda.r</code> saves the cleaned data in a file called <code class="highlighter-rouge">water-eda-stuff.RData</code>. I’m going to focus on three quantities: volume traded (megaliters per month), trade volume (number of trades per month), and price per megaliter (Australian dollars).</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">load</span><span class="p">(</span><span class="s2">"C:/Users/Akhil/Documents/akhilrao.github.io/public/code/au-water-trading/water-eda-stuff.RData"</span><span class="p">)</span>
<span class="n">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span>
<span class="c1">## drop everything before 2008
</span><span class="n">trades_m</span> <span class="o">&lt;-</span> <span class="n">subset</span><span class="p">(</span><span class="n">trades_m</span><span class="p">,</span><span class="n">year</span><span class="o">&gt;</span><span class="m">2008</span><span class="p">)</span>
<span class="n">trades_m_melted</span> <span class="o">&lt;-</span> <span class="n">subset</span><span class="p">(</span><span class="n">trades_m_melted</span><span class="p">,</span><span class="n">year</span><span class="o">&gt;</span><span class="m">2008</span><span class="p">)</span>

<span class="c1">## make plots
### volume over time
</span><span class="n">trade_vols</span> <span class="o">&lt;-</span> <span class="n">ggplot</span><span class="p">(</span><span class="n">trades_m_melted</span><span class="p">[</span><span class="n">c</span><span class="p">(</span><span class="n">which</span><span class="p">(</span><span class="n">trades_m_melted</span><span class="o">$</span><span class="n">variable</span><span class="o">==</span><span class="s2">"v_ents"</span><span class="p">),</span><span class="n">which</span><span class="p">(</span><span class="n">trades_m_melted</span><span class="o">$</span><span class="n">variable</span><span class="o">==</span><span class="s2">"v_alls"</span><span class="p">)),],</span> <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">MonthOfTrade</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">value</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="n">factor</span><span class="p">(</span><span class="n">mdb</span><span class="p">)))</span>

<span class="n">trade_vols</span> <span class="o">+</span> <span class="n">geom_point</span><span class="p">()</span> <span class="o">+</span> <span class="n">geom_smooth</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">"lm"</span><span class="p">,</span><span class="n">fill</span><span class="o">=</span><span class="n">NA</span><span class="p">)</span> <span class="o">+</span> <span class="n">facet_wrap</span><span class="p">(</span><span class="o">~</span><span class="n">variable</span><span class="p">)</span> <span class="o">+</span> <span class="n">scale_colour_discrete</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"In MDB"</span><span class="p">,</span><span class="n">labels</span><span class="o">=</span><span class="n">c</span><span class="p">(</span><span class="s2">"No"</span><span class="p">,</span><span class="s2">"Yes"</span><span class="p">))</span> <span class="o">+</span> <span class="n">ggtitle</span><span class="p">(</span><span class="s2">"Water volume traded in and out of MDB"</span><span class="p">)</span> <span class="o">+</span> <span class="n">ylab</span><span class="p">(</span><span class="s2">"Volume (ML) traded per month"</span><span class="p">)</span> <span class="o">+</span> <span class="n">xlab</span><span class="p">(</span><span class="s2">"time"</span><span class="p">)</span></code></pre></figure>

<p><img src="/public/images/eda-water-1/unnamed-chunk-1-1.svg" alt="plot of chunk unnamed-chunk-1" /></p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1">### trades over time
</span><span class="n">trade_counts</span> <span class="o">&lt;-</span> <span class="n">ggplot</span><span class="p">(</span><span class="n">trades_m_melted</span><span class="p">[</span><span class="n">c</span><span class="p">(</span><span class="n">which</span><span class="p">(</span><span class="n">trades_m_melted</span><span class="o">$</span><span class="n">variable</span><span class="o">==</span><span class="s2">"n_ents"</span><span class="p">),</span><span class="n">which</span><span class="p">(</span><span class="n">trades_m_melted</span><span class="o">$</span><span class="n">variable</span><span class="o">==</span><span class="s2">"n_alls"</span><span class="p">)),],</span> <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">MonthOfTrade</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">value</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="n">factor</span><span class="p">(</span><span class="n">mdb</span><span class="p">)))</span>

<span class="n">trade_counts</span> <span class="o">+</span> <span class="n">geom_point</span><span class="p">()</span> <span class="o">+</span> <span class="n">geom_smooth</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">"lm"</span><span class="p">,</span><span class="n">fill</span><span class="o">=</span><span class="n">NA</span><span class="p">)</span> <span class="o">+</span> <span class="n">facet_wrap</span><span class="p">(</span><span class="o">~</span><span class="n">variable</span><span class="p">)</span> <span class="o">+</span> <span class="n">scale_colour_discrete</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"In MDB"</span><span class="p">,</span><span class="n">labels</span><span class="o">=</span><span class="n">c</span><span class="p">(</span><span class="s2">"No"</span><span class="p">,</span><span class="s2">"Yes"</span><span class="p">))</span> <span class="o">+</span> <span class="n">ggtitle</span><span class="p">(</span><span class="s2">"Trades in and out of MDB"</span><span class="p">)</span> <span class="o">+</span> <span class="n">ylab</span><span class="p">(</span><span class="s2">"Number of trades per month"</span><span class="p">)</span> <span class="o">+</span> <span class="n">xlab</span><span class="p">(</span><span class="s2">"time"</span><span class="p">)</span></code></pre></figure>

<p><img src="/public/images/eda-water-1/unnamed-chunk-1-2.svg" alt="plot of chunk unnamed-chunk-1" /></p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1">### prices over time
</span><span class="n">trade_prices</span> <span class="o">&lt;-</span> <span class="n">ggplot</span><span class="p">(</span><span class="n">trades_m_melted</span><span class="p">[</span><span class="n">c</span><span class="p">(</span><span class="n">intersect</span><span class="p">(</span><span class="n">which</span><span class="p">(</span><span class="n">trades_m_melted</span><span class="o">$</span><span class="n">variable</span><span class="o">==</span><span class="s2">"price_ents"</span><span class="p">),</span><span class="n">which</span><span class="p">(</span><span class="n">trades_m_melted</span><span class="o">$</span><span class="n">value</span><span class="o">!=</span><span class="m">0</span><span class="p">)),</span><span class="n">intersect</span><span class="p">(</span><span class="n">which</span><span class="p">(</span><span class="n">trades_m_melted</span><span class="o">$</span><span class="n">variable</span><span class="o">==</span><span class="s2">"price_alls"</span><span class="p">),</span><span class="n">which</span><span class="p">(</span><span class="n">trades_m_melted</span><span class="o">$</span><span class="n">value</span><span class="o">!=</span><span class="m">0</span><span class="p">))),],</span> <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">MonthOfTrade</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">value</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="n">factor</span><span class="p">(</span><span class="n">mdb</span><span class="p">)))</span>  <span class="c1"># only looking at observations with positive prices
</span>
<span class="n">trade_prices</span> <span class="o">+</span> <span class="n">geom_point</span><span class="p">()</span> <span class="o">+</span> <span class="n">geom_smooth</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">"lm"</span><span class="p">,</span><span class="n">se</span><span class="o">=</span><span class="n">TRUE</span><span class="p">,</span><span class="n">fill</span><span class="o">=</span><span class="n">NA</span><span class="p">)</span> <span class="o">+</span> <span class="n">facet_wrap</span><span class="p">(</span><span class="o">~</span><span class="n">variable</span><span class="p">)</span> <span class="o">+</span> <span class="n">scale_colour_discrete</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"In MDB"</span><span class="p">,</span><span class="n">labels</span><span class="o">=</span><span class="n">c</span><span class="p">(</span><span class="s2">"No"</span><span class="p">,</span><span class="s2">"Yes"</span><span class="p">))</span> <span class="o">+</span> <span class="n">ggtitle</span><span class="p">(</span><span class="s2">"Monthly average trade prices in and out of MDB"</span><span class="p">)</span> <span class="o">+</span> <span class="n">ylab</span><span class="p">(</span><span class="s2">"AUD"</span><span class="p">)</span> <span class="o">+</span> <span class="n">xlab</span><span class="p">(</span><span class="s2">"time"</span><span class="p">)</span></code></pre></figure>

<p><img src="/public/images/eda-water-1/unnamed-chunk-1-3.svg" alt="plot of chunk unnamed-chunk-1" /></p>

<p>Three things I see here:</p>

<ol>
  <li>More trading of entitlements and allocations inside the MDB than outside, both in terms of volumes of water traded as well as number of trades.</li>
  <li>Allocation trading inside the MDB has been increasing faster than allocation trading outside the MDB, while entitlement trading in both regions seem to follow similar trends.</li>
  <li>Average monthly prices per megaliter seem about the same inside or outside the MDB. Entitlement prices seem to have been going up over time.</li>
</ol>

<p>This makes sense; the Murray-Darling Basin accounts for most of Australia’s water use, so I expected to see more activity inside the MDB than outside. 4 states sit inside the MDB: New South Wales, Victoria, Queensland, and South Australia. New South Wales and Victoria have the most area inside the Basin, so we might expect the action in the Basin to be driven by those two. Let’s take a look:</p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="n">load</span><span class="p">(</span><span class="s2">"C:/Users/Akhil/Documents/akhilrao.github.io/public/code/au-water-trading/water-eda-stuff.RData"</span><span class="p">)</span>
<span class="n">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span>
<span class="c1">## drop everything before 2008
</span><span class="n">trades_m</span> <span class="o">&lt;-</span> <span class="n">subset</span><span class="p">(</span><span class="n">trades_m</span><span class="p">,</span><span class="n">year</span><span class="o">&gt;</span><span class="m">2008</span><span class="p">)</span>
<span class="n">trades_m_melted</span> <span class="o">&lt;-</span> <span class="n">subset</span><span class="p">(</span><span class="n">trades_m_melted</span><span class="p">,</span><span class="n">year</span><span class="o">&gt;</span><span class="m">2008</span><span class="p">)</span>

<span class="c1">## make plots
### volumes over time
</span><span class="n">trade_vols_state</span> <span class="o">&lt;-</span> <span class="n">ggplot</span><span class="p">(</span><span class="n">trades_m_melted</span><span class="p">[</span><span class="n">c</span><span class="p">(</span><span class="n">which</span><span class="p">(</span><span class="n">trades_m_melted</span><span class="o">$</span><span class="n">variable</span><span class="o">==</span><span class="s2">"v_ents"</span><span class="p">),</span><span class="n">which</span><span class="p">(</span><span class="n">trades_m_melted</span><span class="o">$</span><span class="n">variable</span><span class="o">==</span><span class="s2">"v_alls"</span><span class="p">)),],</span> <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">MonthOfTrade</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">value</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="n">factor</span><span class="p">(</span><span class="n">variable</span><span class="p">)))</span>

<span class="n">trade_vols_state</span> <span class="o">+</span> <span class="n">geom_point</span><span class="p">()</span> <span class="o">+</span> <span class="n">geom_smooth</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">"lm"</span><span class="p">,</span><span class="n">fill</span><span class="o">=</span><span class="n">NA</span><span class="p">)</span> <span class="o">+</span> <span class="n">facet_wrap</span><span class="p">(</span><span class="o">~</span><span class="n">from_state</span><span class="p">)</span> <span class="o">+</span> <span class="n">scale_colour_discrete</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"Product type"</span><span class="p">,</span><span class="n">labels</span><span class="o">=</span><span class="n">c</span><span class="p">(</span><span class="s2">"Allocations"</span><span class="p">,</span><span class="s2">"Entitlements"</span><span class="p">))</span> <span class="o">+</span> <span class="n">ggtitle</span><span class="p">(</span><span class="s2">"Water volume traded in each state"</span><span class="p">)</span> <span class="o">+</span> <span class="n">ylab</span><span class="p">(</span><span class="s2">"Volume (ML) traded per month"</span><span class="p">)</span> <span class="o">+</span> <span class="n">xlab</span><span class="p">(</span><span class="s2">"time"</span><span class="p">)</span></code></pre></figure>

<p><img src="/public/images/eda-water-1/unnamed-chunk-2-1.svg" alt="plot of chunk unnamed-chunk-2" /></p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1">### counts over time
</span><span class="n">trade_counts_state</span> <span class="o">&lt;-</span> <span class="n">ggplot</span><span class="p">(</span><span class="n">trades_m_melted</span><span class="p">[</span><span class="n">c</span><span class="p">(</span><span class="n">which</span><span class="p">(</span><span class="n">trades_m_melted</span><span class="o">$</span><span class="n">variable</span><span class="o">==</span><span class="s2">"n_ents"</span><span class="p">),</span><span class="n">which</span><span class="p">(</span><span class="n">trades_m_melted</span><span class="o">$</span><span class="n">variable</span><span class="o">==</span><span class="s2">"n_alls"</span><span class="p">)),],</span> <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">MonthOfTrade</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">value</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="n">factor</span><span class="p">(</span><span class="n">variable</span><span class="p">)))</span>

<span class="n">trade_counts_state</span> <span class="o">+</span> <span class="n">geom_point</span><span class="p">()</span> <span class="o">+</span> <span class="n">geom_smooth</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">"lm"</span><span class="p">,</span><span class="n">fill</span><span class="o">=</span><span class="n">NA</span><span class="p">)</span> <span class="o">+</span> <span class="n">facet_wrap</span><span class="p">(</span><span class="o">~</span><span class="n">from_state</span><span class="p">)</span> <span class="o">+</span> <span class="n">scale_colour_discrete</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"Product type"</span><span class="p">,</span><span class="n">labels</span><span class="o">=</span><span class="n">c</span><span class="p">(</span><span class="s2">"Allocations"</span><span class="p">,</span><span class="s2">"Entitlements"</span><span class="p">))</span> <span class="o">+</span> <span class="n">ggtitle</span><span class="p">(</span><span class="s2">"Trades in each state"</span><span class="p">)</span> <span class="o">+</span> <span class="n">ylab</span><span class="p">(</span><span class="s2">"Number of trades per month"</span><span class="p">)</span> <span class="o">+</span> <span class="n">xlab</span><span class="p">(</span><span class="s2">"time"</span><span class="p">)</span></code></pre></figure>

<p><img src="/public/images/eda-water-1/unnamed-chunk-2-2.svg" alt="plot of chunk unnamed-chunk-2" /></p>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1">### prices over time
</span><span class="n">trade_prices_state</span> <span class="o">&lt;-</span> <span class="n">ggplot</span><span class="p">(</span><span class="n">trades_m_melted</span><span class="p">[</span><span class="n">c</span><span class="p">(</span><span class="n">intersect</span><span class="p">(</span><span class="n">which</span><span class="p">(</span><span class="n">trades_m_melted</span><span class="o">$</span><span class="n">variable</span><span class="o">==</span><span class="s2">"price_ents"</span><span class="p">),</span><span class="n">which</span><span class="p">(</span><span class="n">trades_m_melted</span><span class="o">$</span><span class="n">value</span><span class="o">!=</span><span class="m">0</span><span class="p">)),</span><span class="n">intersect</span><span class="p">(</span><span class="n">which</span><span class="p">(</span><span class="n">trades_m_melted</span><span class="o">$</span><span class="n">variable</span><span class="o">==</span><span class="s2">"price_alls"</span><span class="p">),</span><span class="n">which</span><span class="p">(</span><span class="n">trades_m_melted</span><span class="o">$</span><span class="n">value</span><span class="o">!=</span><span class="m">0</span><span class="p">))),],</span> <span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">MonthOfTrade</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="n">value</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="n">factor</span><span class="p">(</span><span class="n">variable</span><span class="p">)))</span> 

<span class="n">trade_prices_state</span> <span class="o">+</span> <span class="n">geom_point</span><span class="p">()</span> <span class="o">+</span> <span class="n">geom_smooth</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">"lm"</span><span class="p">,</span><span class="n">fill</span><span class="o">=</span><span class="n">NA</span><span class="p">)</span> <span class="o">+</span> <span class="n">facet_wrap</span><span class="p">(</span><span class="o">~</span><span class="n">from_state</span><span class="p">)</span> <span class="o">+</span> <span class="n">scale_colour_discrete</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">"Product type"</span><span class="p">,</span><span class="n">labels</span><span class="o">=</span><span class="n">c</span><span class="p">(</span><span class="s2">"Allocations"</span><span class="p">,</span><span class="s2">"Entitlements"</span><span class="p">))</span> <span class="o">+</span> <span class="n">ggtitle</span><span class="p">(</span><span class="s2">"Monthly average trade prices in each state"</span><span class="p">)</span> <span class="o">+</span> <span class="n">ylab</span><span class="p">(</span><span class="s2">"AUD"</span><span class="p">)</span> <span class="o">+</span> <span class="n">xlab</span><span class="p">(</span><span class="s2">"time"</span><span class="p">)</span></code></pre></figure>

<p><img src="/public/images/eda-water-1/unnamed-chunk-2-3.svg" alt="plot of chunk unnamed-chunk-2" /></p>

<p>(<em>Northern Territory seems to be missing from my data. Might be a coding error on my part.</em>)</p>

<ol>
  <li>It looks like the increase in volume traded and trade volume for the allocations is driven by Victoria and New South Wales, with New South Wales having some bigger months in terms of both amount traded and frequency of trades.</li>
  <li>Overall prices per megaliter seem fairly flat, with the exception of entitlements in New South Wales, which seem to be increasing.</li>
  <li>Not a lot of trades with positive prices in Queensland, I don’t think any in Tasmania.</li>
</ol>

<p>I’ll look at more cuts of this data in a future post.</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="//micro%20theory/2016/06/21/paper-review-aac-orbit-debris-model/">
        Paper Review - "Earth Orbit Debris - An Economic Model"
      </a>
    </h1>

    <span class="post-date">21 Jun 2016</span>

    <p>Here I review Adilov, Alexander, and Cunningham’s (hereafter AAC) 2013 paper, <a href="http://papers.ssrn.com/sol3/papers.cfm?abstract_id=2264915">“Earth Orbit Debris: An Economic Model”</a>. The paper was published in <em>Environmental and Resource Economics</em> in 2014 as <a href="http://link.springer.com/article/10.1007/s10640-013-9758-4">“An Economic Analysis of Earth Orbit Pollution”</a>. The published version seems very similar to the SSRN version, which is the version I read and what I describe here. At some point I intend to write a literature review for my own space debris project; hopefully this writeup will help me with that.</p>

<p>This is the first explicitly mathematical economic analysis of orbital debris production, at least as far as I am aware. Two other, earlier, papers that consider the economics of orbital debris are Weeden and Chow’s <a href="http://www.sciencedirect.com/science/article/pii/S0265964612000604">“Taking a common-pool resources approach to space sustainability: A framework and potential policies”</a> and Bradley and Wein’s <a href="http://www.sciencedirect.com/science/article/pii/S0273117709001240">Space debris: Assessing risk and responsibility</a>. Both were published in space journals (Weeden and Chow in <em>Space Policy</em>, Bradley and Wein in <em>Advances in Space Research</em>). While both consider economic aspects of the space debris problem, neither takes a full-on “mathematical economics” approach to modeling the problem. Weeden and Chow focus more on the economics, drawing heavily on Ostrom’s framework for managing CPR resources, while Bradley and Wein focus more on the physics, using their physical model to estimate the net present value of a debris-related collision. I’ll write about both of these papers separately at a later date.</p>

<p>This paper has two main conclusions:</p>

<ol>
  <li>The decentralized equilibrium has firms launching too many satellites relative to what the central planner would launch, and under-investing in debris-mitigation technologies relative to what the central planner would invest. This is because firms don’t internalize the costs of debris to other firms, resulting in a higher launch rate and a lower level of debris mitigation.</li>
  <li>Firms can be made to internalize the costs of their actions with a Pigouvian tax on launches, which will bring the decentralized launch rate to the “optimal centralized launch rate”.</li>
</ol>

<p>Because this paper is fully theoretical with no calibration, the conclusions are qualitative in nature.</p>

<h2 id="the-model">The Model</h2>

<p>AAC’s model is a Salop circle (I’ve written about this as <a href="http://akhilrao.github.io/micro%20theory/2015/10/05/hotelling-circle-city.html">Circle City</a>) with two periods. In the first period the orbital environment has no debris and firms simultaneously decide whether or not to launch a satellite. In the second period there is debris generated from the first period launches. Some satellites are destroyed by debris, but firms do not launch any new satellites in period 2; the ones with surviving satellites just choose a price and collect revenues.</p>

<p>The Salop framework lets AAC to capture product differentiation in the satellite market - e.g. GEO satellites for communications, LEO constellations for imaging, etc. Within this framework, they assume that firms are identical, and must pay a marginal cost per-satellite, a fixed launch cost, and a fixed per-period “maintenance cost”. As an aside, the Circle City model is apparently not analytically solvable with heterogeneous firms.</p>

<p>The Circle City setup gives them a symmetric Bertrand-Nash equilibrium where firms price “satellite services” with a markup over marginal cost, even when they use free entry to get the zero-profit condition which gives them the number of firms per-period. Because AAC assume 1 firm per satellite, the number of firms entering the market gives them the launch rate.</p>

<p>The satellites are also homogeneous and generate the same amount of debris. AAC assume that each satellite has an equal probability of a catastrophic collision with debris, and that the destroyed satellites disappear.</p>

<p>In section 2.3, AAC consider the social planner’s problem. To do this, they assume a consumer surplus function, and have the social planner maximize the discounted sum of expected profits and consumer surplus.</p>

<p>In section 2.5, AAC allow the firms to choose the debris creation rate <script type="math/tex">\phi \in [0, \phi_H]</script>. The debris creation rate directly impacts the firm’s launch cost <script type="math/tex">r = h(\phi)</script>, where <script type="math/tex">% <![CDATA[
h'(\phi) < 0 %]]></script> for <script type="math/tex">% <![CDATA[
\phi<\phi_H, h'(\phi_H)=0, h''(\phi)>0 %]]></script> and <script type="math/tex">h(\phi_H)>0</script>. In words, the launch cost is decreasing in the amount of debris produced at an increasing rate. The assumption of cost-minimizing behavior implies that firms will choose the highest rate of debris creation, <script type="math/tex">\phi_H</script>, since they don’t see an individual benefit from reducing debris creation rates.</p>

<h2 id="discussion">Discussion</h2>

<p>The planner’s solution gives AAC an optimum to compare the decentralized outcomes to, which lets them derive the Pigouvian tax on entry (launches) which would result in the socially optimal level of launches and debris creation. The decentralized outcome is suboptimal in the sense that it diverges from the planner’s solution. Bradley and Wein take a different approach to estimating a fee on debris generation, by calculating the discounted expected value of a catastrophic collision and suggesting a fee that would be equal to that damage. This would not serve the same deterrent function as AAC’s tax, but it isn’t intended to - it’s intended to give an estimate of the damage that debris could cause.</p>

<p>The firms in AAC’s model are individually maximizing objective functions which have no allowance for consumer surplus generated by the lost satellites, so it doesn’t surprise me that the firms will behave differently from how the planner would have them behave. More theoretically, I think the setup of the problem violates the First Welfare Theorem: since debris is not priced in any way even though it affects consumer welfare, it is natural that firms should produce “too much” debris.</p>

<p>The assumption of product differentiation through a Salop circle with homogeneous firms seemed clever to me at first, but now it seems weird. It seems to imply that satellite services are only differentiated in terms of consumer taste through the “travel cost” parameter <script type="math/tex">t</script>. This is not true - imaging constellations in LEO provide a fundamentally different service than communications satellites in GEO. <em>Ceteris paribus</em> more telecom satellites in GEO shouldn’t affect the price of images from LEO constellations, and vice versa.</p>

<p>The assumption of a common probability of catastrophic collision with debris seems like a big simplification of the underlying orbital mechanics. In truth, orbital debris seems more like a directional externality to me - it only falls down to Earth, so a satellite already in GEO isn’t affected by debris in LEO, though debris falling to Earth may pose a risk to constellations in LEO. Launching a satellite to GEO could be made more complicated by debris in LEO as well, though these are things I expect the engineers and physicists would work reduce as much as possible; as far as I’m aware this is what <a href="http://ntrs.nasa.gov/archive/nasa/casi.ntrs.nasa.gov/20100005139.pdf">conjunction analysis</a> is about.</p>

<p>Additionally, a satellite’s probability of collision depends on its size, which is a parameter firms have some control over. The recent move towards cubesats suggests to me that firms are able to reduce the probability that their satellite will get hit.</p>

<p>Bradley and Wein discuss the directional aspect of debris generation in their paper, where they consider debris generation in a single “spherical altitude shell” (the “Shell of Interest”, or SOI). This mirrors the modeling approach taken in <a href="http://www.sciencedirect.com/science/article/pii/S0032063398000701">Rossi et al.</a>. Bradley and Wein argue that ignoring debris entering a SOI from a higher shell doesn’t significantly affect the model results, though Rossi et al. include it in their paper and I think Liou et al. include this in their <a href="http://www.sciencedirect.com/science/article/pii/S0273117704000705">three-dimensional LEO-to-GEO debris evolutionary model</a> as well. These papers also include end-of-life satellites as sources of debris, and allow destroyed satellites to generate debris. Both of these features are absent from AAC’s model, but would probably not change the qualitative conclusions drawn.</p>

<p>In any case, the result of these two assumptions - homogenous satellite services differentiated through travel cost on the circle, and common probabilities of collisions with debris - seems to be a strong simplification of the satellite industry and orbital environment. The complexities introduced by weakening these assumptions might be distractions that don’t change anything, or they might not. I think the orbital debris problem is interesting enough to warrant a paper or two that relax these assumptions. In particular, I would like to see how firms respond to specific orbital shells in LEO filling with debris. My guess is that the firms would either try to go to higher shells (above the debris + more coverage area) or lower shells (maybe they can’t penetrate the debris in a higher shell/debris decays faster at lower altitudes and they decide to play nicer). Higher shells would result in increasingly bad pollution, while lower shells would result in some self-cleaning as the debris decayed.</p>

<p>I think AAC’s general conclusion that there will be too many launches and too much debris relative to the social optimum may hold as presented for LEO, where many firms are looking to enter and firms are clustered in a relatively narrow altitude band (I think most LEO satellites are in between 800-1200 km, or thereabouts). I am skeptical that it will hold in the same way for GEO, where the congestibility of the resource is more apparent and the market mechanisms in place for spectrum allocation have led to a <a href="http://space.stackexchange.com/questions/5943/who-what-is-the-international-authority-to-assign-refuse-orbit-to-a-satellite-sp">slot allocation mechanism</a>. <a href="http://www.rff.org/files/sharepoint/WorkImages/Download/RFF-DP-98-10.pdf">Macauley 1994</a> looks at the efficiency of this mechanism; this paper is on my reading list.</p>

<p>In GEO, I expect the result to take the form of too little effort expended on end-of-life graveyard orbit policies. Indeed, though the Inter-Agency Space Debris Coordination Committee (IADC) laid out guidelines on acceptable re-orbiting altitude, it appears that <a href="http://arc.aiaa.org/doi/abs/10.2514/6.IAC-04-IAA.5.12.4.05">only a third of the GEO satellites that reached end-of-life complied</a>. My guess is that this is because of three reasons:</p>

<ol>
  <li>Some firms don’t expect to launch another satellite to the same or a nearby slot, and so don’t care if they leave a mess (myopic behavior)</li>
  <li>Some firms would find it too costly to reduce the fuel allocated for stationkeeping (i.e., the lifetime of the satellite and the expected revenues from it) by allocating more fuel to end-of-life disposal (compliance too costly)</li>
  <li>Some firms’ satellites may have been non-responsive to the disposal command due to damage, or the firms did not anticipate the disposal requirement and were unable to send such a signal (error/nothing they could do)</li>
</ol>

<p>I expect that policy could be effective at targeting 1 and 2, but not 3 (error). The possibility of 3 makes me think that some sort of active debris removal will be necessary even if firms and nations all act to minimize future debris and all existing debris magically disappeared.</p>

<p>Weeden and Chow anticipated the Pigouvian approach AAC espouse, and discuss the significant legal difficulties associated with implementing a Pigouvian tax like AAC describe. Basically, it’s really unlikely that such a tax would be implemented globally, and if it was implemented only in a few countries firms would have an incentive to launch from countries without the tax. Weeden and Chow also suggest the possibility of cooperative orbital management arising, which I think would be really interesting to see formalized in a cooperative game theoretic framework. This possibility is absent from AAC’s discussion of the problem and potential solutions.</p>

<p>The 2-period setting is probably fine for general conclusions, but I wonder how (or if) anything would change if the firms chose to launch each period for <script type="math/tex">T</script> periods, or whenever their satellites broke down. My guess is that it would depend on whether or not the firms have rational expectations. In general, I think that repeated games allow for better outcomes than one-shot games. Reputational incentives, coordination, things of that nature. I think a repeated game framework is a more realistic economic setting for this problem than a one-shot game.</p>

<p>I think the assumptions on <script type="math/tex">h(\phi)</script> may be a good approximation, but are probably not uniformly true. It might be cheaper for a firm to avoid some sources of debris, like paint on a satellite. In that case, asking firms to reduce those activities of debris might get good compliance. Other sources of debris, like launching a satellite into an orbit too high for debris to naturally decay quickly, might be harder to get compliance with since higher orbits have more coverage area over the Earth. 
I think firms might underinvest in debris mitigation technologies in general, but I’m skeptical that they would choose the highest level of debris creation or lowest level of mitigation. Proposition 3 derives this for profit-maximizing firms, but under a specific assumption about the cost of mitigation in a 2-period setting where firms only launch once. Rational expectations with launches over multiple periods in a longer horizon might change things.</p>

<p>In closing, I think that AAC’s paper is a good contribution to the field of space debris. It brings environmental and mathematical economics firmly into the discussion of orbital debris management, though I didn’t find the conclusions or intuitions it presented to be very novel. I also thought some of the assumptions were too strong, and glossed over interesting particulars of the problem. It seems to have published pretty decently and attracted some good attention, though, so there might be a market for more papers on the subject. I hope so.</p>


  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="//micro%20theory/2016/05/10/coase-bargaining-externality/">
        An app for Coase bargaining
      </a>
    </h1>

    <span class="post-date">10 May 2016</span>

    <p>I came across an article today about <a href="http://www.economist.com/blogs/buttonwood/2016/05/airline-safety?fsrc=scn%2Ftw%2Fte%2Fbl%2Fed%2F?fsrc=scn/fb/te/bl/ed/airlinesafetytenwaystotellyoumightbesittingnexttoaneconomist">“how you know you’re on a plane with an economist”</a>. The article’s supposed to be a take on another recent news piece, about an economist getting pulled off a plane for doing math. I have a long flight coming up, and the article got me thinking about the problem of people reclining.</p>

<p>The person sitting in front of me on a long (8+ hours) flight has the right to recline their seat back. Now, I’m not a very tall person and I’m used to sitting for long stretches, so I am not too physically uncomfortable if the person in front of me reclines all the way. But I do like to read, write, and occasionally eat, so the lack of space in front of me is not ideal.</p>

<p>(Some airlines get around this by having seats in a fixed bucket, so that instead of actually reclining you just kinda slide forward in the bucket. I really don’t like these; I think they’re the worst of both worlds. You no longer have much space, and you can’t even meaningfully recline. I’m ignoring this case here.)</p>

<p>The situation with the reclining seat seems like something the <a href="https://en.wikipedia.org/wiki/Coase_theorem">Coase theorem</a> ought to apply to: we have a well-defined property right (person in front has right to recline) and an externality (reclining reduces my personal space), so maybe we can bargain our way to a better solution. This is such a straightforward idea, I’m sure it’s been discussed elsewhere at length.</p>

<p>What I would like is an app to facilitate this bargaining. I think the app would do something like this:</p>

<ol>
  <li>
    <p>Given two participating users, allow the users to define the property right and the externality in question. For example, “<script type="math/tex">A</script> has the right (to recline his chair), <script type="math/tex">B</script> is negatively affected by ( <script type="math/tex">A</script> reclining ) and would like to see if a welfare-improving bargain can be struck.”</p>
  </li>
  <li>
    <p>Users privately enter their maximum willingness-to-pay and minimum willingness-to-accept to reduce the externality. In the seat example, <script type="math/tex">A</script> would enter his minimum willingness-to-accept to not recline, and <script type="math/tex">B</script> would enter her maximum willingness-to-pay for <script type="math/tex">A</script> to not recline.</p>
  </li>
  <li>
    <p>If the maximum WTP is greater than or equal to the minimum WTA, the app would suggest a price for <script type="math/tex">B</script> to pay <script type="math/tex">A</script> to not recline. The specific price can be determined by some “fair” division, like the Nash Bargaining Solution.</p>
  </li>
</ol>

<p>In the example above, the Nash Bargaining Solution would be a payment <script type="math/tex">p_B</script> from <script type="math/tex">B</script> to <script type="math/tex">A</script> that solves</p>

<script type="math/tex; mode=display">\max_{p_B} \ (p_B - WTA_A)(WTP_B - p_B)</script>

<p>where <script type="math/tex">WTA_A</script> and <script type="math/tex">WTP_B</script> are <script type="math/tex">A</script> and <script type="math/tex">B</script>’s minimum willingness-to-accept and maximum willingness-to-pay, respectively. The solution is</p>

<script type="math/tex; mode=display">p_B = \frac{WTP_B + WTA_A}{2}</script>

<p>i.e., with the NBS, if <script type="math/tex">WTP_B \geq WTA_A</script>, <script type="math/tex">B</script> would pay <script type="math/tex">A</script> his minimum willingness-to-accept to not recline, plus half of her excess willingness-to-pay for <script type="math/tex">A</script> to not recline. This results in the surplus, <script type="math/tex">WTP_B - WTA_A</script>, being evenly divided between <script type="math/tex">A</script> and <script type="math/tex">B</script>.</p>

<p>The usual problem people cite with the Coase theorem in practice is transaction costs, which an app could reduce. I’ve described the two-person case above but it could be extended to the <script type="math/tex">n</script>-person case. I would be willing to pay $5 for an app that did this, possibly more if it was widely used.</p>

<p>Update: <a href="https://github.com/srlm-io">srlm</a> made the app! Here it is on <a href="https://play.google.com/store/apps/details?id=io.srlm.coasebargaining">Google Play</a> and on <a href="https://github.com/srlm-io/coase-bargaining">Github</a>.</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="//web/2016/02/08/worth-a-search-app/">
        Is this worth a search?
      </a>
    </h1>

    <span class="post-date">08 Feb 2016</span>

    <p>Another simple Shiny app, this time to answer the question, <a href="https://akhilrao.shinyapps.io/worthASearchApp/">“is this worth searching for?”</a>.</p>

<p>The basic idea is taken from this <a href="http://akhilrao.github.io/micro%20theory/2015/10/08/imperfect-information-car-search.html">earlier post</a> about searching for a used car.</p>

<p>For example: Suppose you are thinking about looking for a used car, and you want to see whether it’s worth searching for. You plug in your willingness-to-pay for a car, the cost to you to find and inspect one car, the number of sellers in the region, and the average price they’re asking for. Using the formulas from the post for the expected quality of the average seller and the expected value of one search, we have</p>

<script type="math/tex; mode=display">% <![CDATA[
\begin{align}
\hat{\beta} &= \frac{\beta}{N} \left( \frac{1- \beta^N}{1- \beta } \right) \cr
EV(\text{search}) &= \hat{\beta}(v-p) - c
\end{align} %]]></script>

<p>where <script type="math/tex">N</script> is the number of sellers, <script type="math/tex">\beta</script> is the probability the average seller has what you want, <script type="math/tex">p</script> is the average price, and <script type="math/tex">c</script> is the search cost. If the expected value of a search is greater than 0, it’s worth at least one search.</p>

<p>Using the app, I can see what the probability of a seller having what I want would need to be for a search to be worth it. I can interpret the point on the x axis where <script type="math/tex">EV(\text{search})=0</script> as the minimum level of belief I would have to hold that the average seller has what I’m looking for for a search to be rational.</p>

  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/page2">Older</a>
  
  
    <span class="pagination-item newer">Newer</span>
  
</div>


      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>

<script type="text/javascript"
    src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
