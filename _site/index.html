<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      A Model A Day &middot; By Akhil Rao
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          A Model A Day
        </a>
      </h1>
      <p class="lead"></p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item active" href="/">Home</a>

      

      
      
        
          
        
      
        
          
            <a class="sidebar-nav-item" href="/about/">About</a>
          
        
      
        
          
            <a class="sidebar-nav-item" href="/archive/">Archive</a>
          
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      

      <a class="sidebar-nav-item" href="https://github.com/akhilrao/archive/v0.0.1.zip">Download</a>
      <a class="sidebar-nav-item" href="https://github.com/akhilrao">GitHub project</a>
      <span class="sidebar-nav-item">Currently v0.0.1</span>
    </nav>

    <p>&copy; 2015. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/macro%20theory/2015/10/10/2015-10-10-otj-search/">
        On-the-job search with dynamic programming
      </a>
    </h1>

    <span class="post-date">10 Oct 2015</span>

    <p>Consider a worker trying to maximize lifetime consumption and leisure. She needs a job to get stuff to consume, which eats into her leisure time, and gives us an interesting tradeoff to study.</p>

<p>The total time available is normalized to 1 and everything is measured in terms of the consumption good. For any wage \(w_t\), the worker needs to decide how much time to work, \(1-l_t\). Her labor income is \(w_t (1-l_t)\). If she&#39;s unemployed, she gets to spend all her time on leisure, but she gets no income and therefore no consumption. Formally, the worker solves</p>

<p>$$\begin{align}
\max_{c_t,l_t} &amp;~ E_0 \sum_{t=0}^{\infty} \beta^t[\ln c_t + \phi \ln l_t] \cr
\text{s.t.} &amp;~ 0 \le l \le 1 \cr
&amp;~ c_t \le w_t (1-l_t)
\end{align}$$</p>

<p>where \(\beta \in (0,1)\) and \(\phi \gt 0\).</p>

<p>In the beginning of each period, the unemployed worker receives an offer \(w \in [0,B],~B \lt \infty\), drawn randomly from the continuous distribution function \(F(w)\). If the worker accepts the offer, she begins receiving labor income in the same period.</p>

<p>The employed worker can pay a search cost \(z \gt 0\) to receive another offer randomly drawn from the same distribution, \(F(w)\) - she can keep searching on the job. If she accepts the offer, she begins working at the new job in the following period.</p>

<p>To keep things simple, let&#39;s assume there is no exogenous job destruction; once an offer is accepted, the job survives with probability 1. There is no saving or borrowing.</p>

<p>The utility function is natural log in consumption and leisure, so we can rule out 0 and \(\infty\) as solutions. The unemployed worker will always accept their first job offer. The action is in the employed worker searching.</p>

<h4 id="the-bellman-equations">The Bellman equations</h4>

<p>To solve this problem, we break the consumer&#39;s infinite period down into a series of smaller one-period decisions and find an optimal solution to that one equation (<a href="https://en.wikipedia.org/wiki/Dynamic_programming">dynamic programming</a>). In each period, the workers face the following decisions:</p>

<p>$$\begin{align}
\text{Unemployed:} ~~ V^u (w) &amp; = \max_l \{accept , ~ reject \} \cr
&amp; = \max_l \{ u(w(1-l),l) + \beta V^e (w), u(0,1)\} \cr
\end{align}$$</p>

<p>Clearly, the unemployed will always accept any offer \(w \gt 0\).</p>

<p>$$\begin{align}
\text{Employed:} ~~ V^e (w) &amp; = \max_l \{don&#39;t~search , ~ search \} \cr
&amp; = \max_l \left\{ \frac{u(w(1-l),l)}{1-\beta}, \frac{u(w(1-l)-z,l)}{1-\beta} + \frac{\beta}{1-\beta} \int_w^B (V^e (w&#39;) - V^e (w)) \ dF(w&#39;) \right\} \cr
\end{align}$$</p>

<p>\(w&#39;\) is the next period&#39;s offer. The search integral is a <a href="https://en.wikipedia.org/wiki/Lebesgue_integration">Lebesgue integral</a>. The worker will obviously not accept an offer at a wage lower than the current one, so we only integrate over the current wage to the upper bound.</p>

<h4 id="is-there-a-reservation-wage">Is there a reservation wage?</h4>

<p>In this context, &quot;is there a wage \(\bar{w}\) such that the employed worker searches if and only if \(w \le \bar{w}\)&quot;? The answer is yes. To find \(\bar{w}\), let&#39;s assume it exists, in which case it satisfies </p>

<p>$$V^e (Don&#39;t~search) = V^e (Search)$$ </p>

<p>Then we do some algebra and get that</p>

<p>$$\bar{w}:~ \ln(w(1-l)) - \ln(w(1-l)-z) = \beta \int_{\bar{w}}^B (V^e (w&#39;) - V^e (\bar{w})) \ dF(w&#39;) $$</p>

<p>The LHS is the search penalty to the marginal utility of consumption (marginal cost of searching), and the RHS is the discounted expected increase in wage from the search (marginal benefit of searching).</p>

<p>What else can we say about the worker&#39;s search behavior?</p>

<ul>
<li><p>As \(w \to 0 \), \(V^e_s (w) \to -\infty\) faster than \(V^e_n (w) \to -\infty\). So at a low enough wage, the search cost \(z\) has a large effect on the worker&#39;s utility and she won&#39;t search.</p></li>
<li><p>At \(w=B\),
$$\begin{align}
V^e_s (B) &amp; = (1-\beta)^{-1} (\ln(B(1-l)-z) + \phi \ \ln(l)) \cr
V^e_n (B) &amp; = (1-\beta)^{-1} (\ln(B(1-l)) + \phi \ \ln(l)) \cr
\implies V^e_n (B) &amp; \gt V^e_s (B)
\end{align}$$
So the worker won&#39;t search when she&#39;s already earning the maximum wage, which is pretty intuitive.</p></li>
</ul>

<p>So the worker won&#39;t search at a low enough wage, and she won&#39;t search at the highest wage... since the value of searching and not searching are both concave functions, this means they must touch twice, if they touch at all. To make life easier, let&#39;s assume \(z\) is small enough that \(V^e_s (w) \lt V^e_n (w)\) occurs on the lower end of the wage scale only at wages below 1 (so negative utilities). Utility has a cardinal interpretation here, so we can rule out the case of the worker earning so little she can&#39;t afford to search. </p>

<p>Anyway, with this behavior, in the long run we should expect every worker to end up with a wage above their reservation wage, since they&#39;ll keep searching for a better job other wise.</p>

<p>In a future post, I&#39;ll relax the assumption that \(z\) is very small and sketch out all the cases of the reservation wage, and explore the worker&#39;s labor supply behavior in this model.</p>

<p>Dynamic programming is a powerful way to get a simple solution to an optimization problem. Without it, we would have had to set up and solve an infinite-period optimization. With it, we can just find a consistent decision rule for an arbitrary period. To use DP, we need some assumptions on the functions we&#39;re optimizing. When I revisit this model, maybe I&#39;ll talk about those assumptions as well.</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/2015/10/09/no-post-today/">
        No post today
      </a>
    </h1>

    <span class="post-date">09 Oct 2015</span>

    <p>No model today.</p>

<p>Tomorrow: a labor search problem.</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/micro%20theory/2015/10/08/imperfect-information-car-search/">
        When is it optimal to search for a used car?
      </a>
    </h1>

    <span class="post-date">08 Oct 2015</span>

    <p>Suppose you are considering purchasing a used car. There are \(N \ge 1\) sellers. The value of seller \(i\)&#39;s car is \(v_i\), given by</p>

<p>$$v_i =
\begin{cases}
1 ~~ \text{with probability} ~~ \beta_i \cr
0 ~~ \text{with probability} ~~ 1- \beta_i \cr
\end{cases}$$</p>

<p>where \(\beta_i = \beta^i, i=1,...,N\). So as the number of sellers increases, we only add sellers worse than the current ones. Since we search in a random order, for a given \(N\) this just tells us the distribution of sellers. A seller&#39;s \(\beta_i\) is their private information. This is sort of like Craigslist or some other internet search; you search randomly over sellers of uncertain quality. </p>

<p>You&#39;re a savvy shopper though, and before you buy the car you&#39;re going to get it inspected, which costs \(c\). You could also think about this as a search cost, to avoid confusion over inspection-less visits to sellers. Suppose the price of a car is \(1/2\) from every seller, for simplicity. You can inspect as many sellers as you want, but only one at a time.</p>

<p>Based on \(\beta\), \(N\), and \(c\), when will it be optimal for you to search at least once?</p>

<h4 id="benchmark-case-expected-utility-maximizer">Benchmark case: Expected-utility maximizer</h4>

<p>An expected utility maximizer would start by figuring out the expected quality of a seller,</p>

<p>$$\begin{align}
\hat{\beta} &amp;= \frac{1}{N} \sum_{i=1}^{N} \beta^i \cr
&amp;= \frac{\beta}{N} \left( \frac{1- \beta^N}{1- \beta } \right)
\end{align}$$</p>

<p>We assume we&#39;re starting from no prior searches so that we don&#39;t have to condition on information and update beliefs, which any optimizing agent ought to be doing. The EU-maximizer wants the expected value of a search net of inspection costs to be positive, or</p>

<p>$$\begin{align}
\hat{\beta}(v-p) - c &amp;\ge 0 \cr
 \implies \hat{\beta}(1/2) - c &amp;\ge 0 \cr
 \implies c &amp;\le \frac{1}{2}\hat{\beta} \cr
\end{align}$$</p>

<p>We use \(\hat{\beta}(v-p)\) instead of \(\hat{\beta}-p\) because our value from the car is \(1\) for sure - the uncertainty is in whether or not we see it, not in the value itself.</p>

<p>This gives us a bound on whether or not it is optimal to search - an expected-utility maximizer will search if the expected value of the car is greater than the inspection cost.</p>

<p>This makes sense, but there&#39;s another way we can approach this question.</p>

<h4 id="a-worst-case-utility-maximizer">A worst-case utility maximizer</h4>

<p>I guess another way to put this is a &quot;minimum-utility maximizer&quot;. I&#39;ve never heard that term before. I think worst-case bounds are more popular in computer science than economics, which is probably why I haven&#39;t heard it called that. </p>

<p>The worst case we could encounter on our first search is to visit seller \(N\) first. A minimum-utility maximizer only wants to search if even in this bad draw is worth their time, or</p>

<p>$$\begin{align}
\beta^N(v-p) - c &amp;\ge 0 \cr
\implies c &amp;\le \frac{1}{2}\beta^N \cr
\end{align}$$</p>

<p>which looks pretty similar to the expected-utility maximizer&#39;s solution, but with \(\beta^N\) instead of \(\hat{\beta}\). This implies a more &quot;conservative&quot; decision rule than the benchmark solution.</p>

<h4 id="summary">Summary</h4>

<p>This is a pretty cool problem. I initially disagreed with my professor about the solution - I used the worst-case bound, while he used the expected-value bound. He pointed out that in this case, the worst-case bound is a subset of the expected-value bound (I think that must be true generally), so the worst-case bound ignores a large area where an expected-utility maximizer would find it optimal to search. I agree with his argument, but I still prefer the worst-case bound to the expected-value bound. In writing this post, I&#39;ve been trying to understand why.</p>

<p>I think the worst-case bound is a more general solution to the problem (or a solution to a more general problem) than the expectation-bound. In this problem, we&#39;re assuming we know a lot about the distribution of values - we know pretty much exactly what it looks like always, and so we know we can use the expectation to figure out what to do. </p>

<p>If we relax that assumption to only knowing the supports of the distribution of values, then we can&#39;t take an expectation to maximize expected utility. We can still find a worst-case bound and maximize a minimum utility in cases like this. </p>

<p>In general, the worst-case bound requires less information than the expected-value bound; we can set a worst-case bound even if we have no information about the distribution of sellers (or if the distribution of values is continuous and has no expectation, like a Cauchy) by looking at our own budget constraint. That said, if we have the information there&#39;s no reason to ignore it.</p>

<p>While the minimum-utility maximizer may ignore opportunities that the expected-utility maximizer would take, the minimum-utility maximizer can consistently apply their decision rule in more situations than the expected-utility maximizer can.</p>

<p>Below is a plot of the cost bounds with \(\beta=0.99\) as the number of sellers increases. The worst-case bound is in red, the expected-utility bound is in blue.</p>

<p><a href="/public/images/search/cost_bounds_used_car.png" title="Cost bounds"><img src="/public/images/search/cost_bounds_used_car.png" alt="Cost bounds" title="Cost bounds"></a></p>

<p>As we could have predicted from the functions themselves, the bounds both approach 0 quite rapidly as the number of sellers increases. With \(\beta=0.99\) the two are practically indistinguishable after 20000 or so sellers. With \(\beta=0.5\) the two are practically indistinguishable after 600 or so sellers. The lower \(\beta\) is, the faster they approach each other - also intuitive from the functions, but I hadn&#39;t expected it to be quite so fast.</p>

<p>I found a neat quote on <a href="https://agtb.wordpress.com/2009/09/06/cs-and-economics-different-attitudes/">Turing&#39;s Invisible Hand</a> about worst-case vs. expected-case more generally:</p>

<p><em>In a situation that already exists, there is obviously some empirical distribution, and it is hard to argue against taking it into account.  In a situation that doesnâ€™t exist, there is yet no empirical distribution, so in order to prepare for it we need to either theoretically guess the future distribution, or prepare for worst case.</em></p>

<p>Most situations we consider in economics already exist, or are similar to ones that do, so there&#39;s usually a distribution we can work with or a reasonable guess we can make. The connection between EU-maxing/minU-maxing and risk preference is interesting to me; I&#39;d like to go back to the manager&#39;s problem and add uncertainty and different risk preferences in this form between the manager and owner.</p>

<p>I like this problem. At some point, I want to try solving it with a generic distribution of values and running it in R.</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/macro%20theory/2015/10/07/two-period-planner-het-betas/">
        A two period planner's problem with heterogeneous time preferences
      </a>
    </h1>

    <span class="post-date">07 Oct 2015</span>

    <p>Two period models are nice because they&#39;re usually easy to solve and can get at some good intuition. Two period models and most dynamic economic models use a discount rate, often \(\beta\) or \(\delta\), which is how much the agent values future payoffs in relation to present payoffs.</p>

<p>In this model there are \(n\) agents in total, \(k\) of whom have discount rate \(\beta\in [0,1]\) (impatient), and the remaining \(n-k\) with discount rate \(\beta =1\) (patient). The agents live for two periods, \(t=1,2\), and receive a consumption endowment of 1 in the period 1 and \(e\gt 0\) in period 2. They have preferences over per-period consumption given by \(\log c_t\). Their lifetime utilities are</p>

<p>$$\begin{align}
 \text{k impatient:} ~~ V(c_1,c_2) &amp;= \log c_1 + \beta \log c_2 \cr
 \text{n-k patient:} ~~ U(c_1,c_2) &amp;= \log c_1 + \log c_2 \cr
\end{align}$$</p>

<p>They want to choose consumption plans that maximize their utilities. The benevolent dictator/social planner wants to maximize the social welfare function</p>

<p>$$\begin{align}
 W &amp;= kV + (n-k)U \cr
 &amp;= k( \log c_{1}^{v} + \beta \log c_{2}^{v}) + (n-k)( \log c_{1}^{u} + \beta \log c_{2}^{u}) \cr
\end{align}$$</p>

<p>Assume the planner has to choose the same consumption plan for every agent of the same type, but can choose different consumption plans for the patient and impatient agents.</p>

<h4 id="benchmark-case-no-storage-technology">Benchmark case: No storage technology</h4>

<p>Suppose there are no refrigerators or other storage technologies, so that the consumption good can&#39;t be carried across time. The dictator&#39;s problem is</p>

<p>$$\begin{align} 
\max_p &amp; ~~W ~~ \text{s.t.}~~ c_1^u + c_1^v \le n ~ , ~ c_2^u + c_2^v \le ne \cr
\implies L &amp; = W + \lambda_1 (n-c_1^u - c_1^v) + \lambda_2 (ne-c_2^u - c_2^v) \cr
\end{align}$$</p>

<p>Since the utility functions are log, all the variables must be strictly greater than 0 and we can ignore non-negativity constraints in the lagrangian.</p>

<p>From saddle point conditions, we get that the optimal consumption plans will satisfy</p>

<p>$$\begin{align}
c_1^u + c_1^v &amp;= n \cr
c_2^u + c_2^v &amp;= ne \cr
kc_1^u &amp;= (n-k)c_1^v \cr
\beta kc_1^u &amp;= (n-k)c_1^v \cr
\end{align}$$</p>

<p>Without a use for savings, the optimal plan is to just consume all resources in the period they&#39;re received: \(c_1^v = k\), \(c_1^u = (n-k)\), and \(c_1^v=\frac{k \beta ne}{n-k(1-\beta )}, c_1^u=ne-\frac{k \beta ne}{n-k(1- \beta )}\). The lack of savings technology means \(\beta\) only affects the second period allocation, not the first. When \(\beta \lt 1\), the impatient agents receive less consumption good because they care less about this period. When \(\beta=1\) each group of agents just consumes their period endowment.</p>

<h4 id="with-a-storage-technology">With a storage technology</h4>

<p>Now suppose a storage technology is developed, so that endowments can be carried across periods. The technology has a transformation rate \(R\gt 0\) so that 1 unit of the good stored in period 1 becomes \(R\) units of the good in period 2. The dictator&#39;s problem is now</p>

<p>$$\begin{align} 
\max_p &amp; ~~W ~~ \text{s.t.}~~ R(c_1^u + c_1^v) + c_2^u + c_2^v \le ne + Rn \cr
\implies L &amp; = W + \lambda_1 (n-c_1^u - c_1^v) + \lambda_2 (ne-c_2^u - c_2^v) \cr
\end{align}$$</p>

<p>From saddle point conditions, we get that the optimal consumption plans will be</p>

<p>$$\begin{align}
c_1^u &amp;=k \cr
c_1^v &amp;=n-k \cr
c_2^u &amp;=ne-\frac{k \beta ne}{n-k(1- \beta )} \cr
c_2^v &amp;=\frac{k \beta ne}{n-k(1-\beta )} ne \cr
\end{align}$$</p>

<p>The welfare effects of the technology depends on \(\beta\) and \(R\), the rates of time preference and transformation. If the transformation rate is equal to the agent&#39;s discount rate, then the agent will be better off because they smooth their consumption by saving in the first period.</p>

<p>If \(\beta = R^{-1}\), the impatient type will be better off from the technology, but the patient type&#39;s welfare change is ambiguous. If \(\beta = R^{-1} = 1\), both types will be better off from the technology. </p>

<p>If \(\beta \neq R^{-1} \), the impatient type will not necessarily be better off. If \(\beta \neq R^{-1} \), but \(R^{-1}=1\), the patient type will be better off.</p>

<p>As long as \(\beta \lt 1\), the savings technology cannot make them both better off.</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/econometrics/2015/10/06/classical-linear-regression-model/">
        The Classical Linear Regression Model
      </a>
    </h1>

    <span class="post-date">06 Oct 2015</span>

    <p>Say you have some observations of random variables who are related to each other, a sequence \({(Y_t,X_{t1},...,X_{tD})}_{t=1}^n\). The Classical Linear Regression Model (CLRM) is one way to go about constructing a statistical model of the relationships between the variables. The CLRM forms the basis of many econometric models.</p>

<p>There are two fundamental assumptions that define the CLRM.</p>

<h5 id="assumption-1">Assumption 1</h5>

<p>$$\begin{pmatrix}
\left( Y_t \cr X_t \right)
\end{pmatrix}$$</p>

  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/page2">Older</a>
  
  
    <span class="pagination-item newer">Newer</span>
  
</div>
    </div>

  </body>
</html>



<script type="text/javascript"
    src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
